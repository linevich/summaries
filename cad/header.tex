\documentclass[a4paper, ukrainian,utf8,14pt]{extreport}
\usepackage[raggedright]{titlesec} % Опція raggedright вимикає переноси в назвах
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage[top=1cm, bottom=2.2cm, left=3cm, right=0.7cm, headheight=0cm, foot=1.35cm]{geometry}
\usepackage{fixltx2e}
\usepackage{indentfirst}
\usepackage{breqn}
\usepackage{mathtools}
\usepackage{cancel} % Закреслювання виразів (скорочення)
\usepackage{xfrac} % Косий дріб
\usepackage{pgfplots}
\usepackage{placeins} % Допомагає встановлювати тримати рисунки в межах розділів
%usepackage{float}
\usepackage{pdfpages}
\usepackage{fancyhdr}

\usepackage{siunitx}

\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage{hyperref}

\urlstyle{same}  % don't use monospace font for urls
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[shorthands=off,main=ukrainian]{babel}
\else
  \usepackage{polyglossia}
  \setmainlanguage[]{ukrainian}
\fi
\usepackage{biblatex}

\addbibresource{bibliography.bib}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi
\usepackage{xecyr}

\newfontfamily\cyrillicfont{Times New Roman}
\newfontfamily{\cyrillicfontsf}{GOST type B}[Script=Cyrillic,ItalicFont=*,ItalicFeatures={FakeSlant=0.3}]
\setsansfont{GOST type B}

% Форматування рисунків
\makeatletter
\renewcommand\p@figure{рис.~\thechapter.\arabic{figure}\expandafter\@gobble}
\makeatother

% Форматування назв розділів

\addto\captionsukrainian{\renewcommand{\chaptername}{Лабораторна робота №}}

\titleformat{\chapter}[display]{\centering\large\bfseries}{\MakeUppercase{\chaptertitlename} \thechapter}{0pt}{\MakeUppercase}{}

\titleformat{\section}{\raggedright\large\bfseries}{\thesection}{5pt}{~}
\titleformat{\subsection}{\raggedright\normalsize\bfseries}{\thesubsection}{5pt}{~}

\titlespacing*{\chapter}{0pt}{-30pt}{8pt}
\titlespacing*{\section}{0pt}{*0}{*0}
\titlespacing*{\subsection}{0pt}{*0}{*0}

% Міжрядковий інтервал 1.5
\usepackage{setspace}
\setstretch{1.5}

 % Покращене форматування таблиць
\usepackage{multirow}
\usepackage{array}
\newcolumntype{C}[1]{>{\centering\arraybackslash}m{#1}}
\renewcommand{\arraystretch}{1.2}

\usepackage[tableposition=top]{caption}
\usepackage{subcaption}

% Нумерація рядків таблиці
\newcounter{magicrownumbers}
\newcommand\rownumber{\stepcounter{magicrownumbers}\arabic{magicrownumbers}}

% Посилання на таблиці

\makeatletter
\renewcommand\p@table{табл. \@ }
\makeatother

% Підписи до таблиць
% Знайдено тут:
% http://tex.stackexchange.com/questions/78774/different-alignment-for-table-number-and-caption
\DeclareCaptionLabelFormat{gosttable}{Таблиця #2}
\DeclareCaptionLabelSeparator{dash}{~---~}
\DeclareCaptionLabelSeparator{blankline}{\\~\\}
\captionsetup[table]{labelformat=gosttable}
\DeclareCaptionFormat{hfillstart}{\hfill#1#2#3\par}
\captionsetup[table]{format=hfillstart,labelsep=blankline,justification=centering}

% Вирівнювання назви по центру
\usepackage{floatrow}
\floatsetup[table]{capposition=top}

\usepackage{background}

\newcommand\BorderText{
  \backgroundsetup{
    scale=1,
    color=black,
    opacity=1.0,
    angle=0,
    contents={\includegraphics[width=\paperwidth,height=\paperheight]{images/border_default.png}}
  }
}

\newcommand\NoBorder{
  \backgroundsetup{
    scale=1,
    opacity=1.0,
    angle=0,
    contents={}
  }
}

\BorderText

% Задаємо команду для визначення змінних:
% потребує пакетів array та tabularx.
\usepackage{tabularx}
\newenvironment{conditions}[1][де:]
  {#1 \begin{tabular}[t]{>{$}l<{$\text{~---~}} @ {${}{}$} l}}
  {\end{tabular}\\[\belowdisplayskip]}

\usepackage{enumitem}
\usepackage{csquotes}


\title{Звіт з лабораторних робіт}
\author{Ліневич А.С}
\date{2016/04/31}

\newlength{\indentation}
\settowidth{\indentation}{ааа} % Подумки бажаю горіти в пеклі тому хто придумав визначення "абзац = 3 символи"

\usepackage{titletoc}
\titlecontents*{chapter}% <section-type>
  [0pt]% <left>
  {}% <above-code>
  {\bfseries\chaptername\ \thecontentslabel\quad}% <numbered-entry-format>
  {}% <numberless-entry-format>
  {\bfseries\hfill\contentspage \\}% <filler-page-format>


\usepackage{enumitem}
\setlist[enumerate]{label*=\arabic*.}

\parindent=\indentation
%% \pagenumbering{gobble}          %

\pagestyle{fancy}

\fancyhf{} % Start with clearing everything in the header and footer
% Set the right side of the footer to be the page number
\renewcommand{\headrulewidth}{0pt}
\fancyfoot[R]{\textsf{\textit{\thepage}}}

% Redefine plain style, which is used for titlepage and chapter beginnings
% From http://tex.stackexchange.com/a/30230/828

\fancypagestyle{plain}{%
    \renewcommand{\headrulewidth}{0pt}%
    \fancyhf{}%
    \fancyfoot[R]{\textsf{\textit{\thepage}}}
}
